{"version":3,"sources":["components/MessageSnackbar.js","constants/user.constants.js","constants/alert.constants.js","actions/alert.actions.js","config.js","helpers/history.js","helpers/authHeader.js","helpers/handleResponse.js","reducers/users.reducer.js","reducers/index.js","Login.js","reducers/alert.reducer.js","helpers/store.js","services/spotify.service.js","services/app.service.js","actions/user.actions.js","components/AppBar.js","Main.js","App.js","serviceWorker.js","index.js"],"names":["variantIcon","success","CheckCircleIcon","warning","WarningIcon","error","ErrorIcon","info","InfoIcon","MessageSnackbar","_this$props","this","props","classes","className","message","onClose","variant","onUndo","other","Object","objectWithoutProperties","Icon","react_default","a","createElement","SnackbarContent","assign","classNames","aria-describedby","id","icon","iconVariant","action","Button","key","undoButton","size","onClick","IconButton","aria-label","color","close","Close_default","React","Component","withStyles","theme","backgroundColor","green","palette","primary","contrastText","dark","undo","grey","getContrastText","secondary","amber","fontSize","opacity","marginRight","spacing","padding","display","alignItems","userConstants","GET_PROFILE_REQUEST","concat","GET_PROFILE_SUCCESS","GET_PROFILE_FAILURE","EXPORT_REQUEST","EXPORT_SUCCESS","EXPORT_FAILURE","IMPORT_REQUEST","IMPORT_SUCCESS","IMPORT_FAILURE","alertConstants","SUCCESS","ERROR","INFO","CLEAR","UNDO","alertActions","type","callbacks","objectSpread","clear","config","isDevelopment","process","loggedItem","baseName","spotifyApi","url","scope","redirect_uri","client_id","history","createBrowserHistory","basename","authHeader","user","JSON","parse","localStorage","getItem","contentType","Content-Type","access_token","Authorization","handleResponse","response","text","then","data","ok","status","removeItem","window","location","reload","statusText","Promise","reject","defaultState","display_name","authWindow","rootReducer","combineReducers","alert","state","arguments","length","undefined","loggerMiddleware","createLogger","store","createStore","applyMiddleware","thunkMiddleware","processFetchOptions","options","_options","offset","limit","spotifyService","getMe","_ref","asyncToGenerator","regenerator_default","mark","_callee","requestOptions","wrap","_context","prev","next","method","headers","fetch","abrupt","sent","stop","apply","getPlaylists","_ref2","_callee2","fetchOptions","queryParams","_context2","queryString","stringify","_x","getPlaylistTracks","_ref3","_callee3","playlist_id","_context3","_x2","_x3","getTracks","_ref4","_callee4","_context4","_x4","_getAllPlaylists","playlists","_args2","items","aux","total","toConsumableArray","_getAllPlaylistTracks","tracks","_args4","filterTracks","playlistTracks","filter","item","is_local","track","map","_track$track","name","uri","_getAllTracks","_ref5","_callee6","_args6","_context6","_ref6","_callee5","userTracks","_context5","_track$track2","appService","downloadJson","fileName","jsonText","document","setAttribute","encodeURIComponent","createEvent","e","initEvent","dispatchEvent","click","exportData","_ref7","_callee10","_context10","_ref8","_callee9","resolve","exportObject","_context9","version","user_id","follow_playlists","_ref9","_callee8","userPlaylists","_context8","playlist","owner","_ref10","_callee7","collaborative","_context7","public","_x7","all","_x6","_x5","userActions","dispatch","failure","toString","Login","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","width","height","logged","updateWindowDimensions","bind","assertThisInitialized","onAuthorize","onCallback","addEventListener","removeEventListener","setState","innerWidth","innerHeight","left","top","set","response_type","show_dialog","open","react_router","to","Fragment","CssBaseline","layout","Paper","paper","Avatar","avatar","LockOutlined_default","Typography","fullWidth","submit","defineProperty","marginLeft","breakpoints","up","marginTop","flexDirection","margin","main","form","LoginLink","forwardRef","ref","react_router_dom","innerRef","AppBar","userLoged","root","AppBar_AppBar","position","Container","Toolbar","title","Link","component","align","noWrap","toolbarTitle","flexGrow","menuButton","connect","Main","onExport","onImport","hashValues","hash","setItem","self","opener","parent","postMessage","components_AppBar","content","appBarSpacer","Grid","container","direction","ButtonGroup","CloudDownload_default","rightIcon","CloudUpload_default","leftIcon","users","createMuiTheme","typography","useNextVariants","App","handleClose","reason","MuiThemeProvider_default","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","components_MessageSnackbar","path","connectedApp","Boolean","hostname","match","ReactDOM","render","react_redux_es","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.86c61cc2.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport Button from '@material-ui/core/Button';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport InfoIcon from '@material-ui/icons/Info';\nimport CloseIcon from '@material-ui/icons/Close';\nimport green from '@material-ui/core/colors/green';\nimport amber from '@material-ui/core/colors/amber';\nimport grey from '@material-ui/core/colors/grey';\nimport IconButton from '@material-ui/core/IconButton';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst styles = theme => ({\n    success: {\n        backgroundColor: green[600],\n        color: theme.palette.primary.contrastText\n    },\n    error: {\n        backgroundColor: theme.palette.error.dark,\n        color: theme.palette.primary.contrastText\n    },\n    info: {\n        backgroundColor: theme.palette.primary.dark,\n        color: theme.palette.primary.contrastText\n    },\n    undo: {\n        backgroundColor: grey[900],\n        color: theme.palette.getContrastText(grey[800]),\n    },\n    undoButton :{\n        color : theme.palette.secondary.contrastText\n    },\n    warning: {\n        backgroundColor: amber[700],\n    },\n    icon: {\n        fontSize: 20,\n    },\n    iconVariant: {\n        opacity: 0.9,\n        marginRight: theme.spacing(),\n    },\n    close: {\n        padding: theme.spacing() / 2,\n    },\n    message: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n});\n\nconst variantIcon = {\n    success: CheckCircleIcon,\n    warning: WarningIcon,\n    error: ErrorIcon,\n    info: InfoIcon,\n};\n\nclass MessageSnackbar extends React.Component {\n\n\n    render() {\n        const { classes, className, message, onClose, variant, onUndo, ...other } = this.props;\n        const Icon = variantIcon[variant];\n\n        return (\n            <SnackbarContent\n                className={classNames(classes[variant], className)}\n                aria-describedby=\"client-snackbar\"\n                message={\n                    <span id=\"client-snackbar\" className={classes.message}>\n                        {Icon && <Icon className={classNames(classes.icon, classes.iconVariant)} />}\n                        {message}\n                    </span>\n                }\n                action={[\n                    onUndo && <Button key={\"undo\"} className={classes.undoButton} size={\"small\"} onClick={onUndo}>\n                        UNDO\n                    </Button>,\n                    <IconButton\n                        key={\"close\"}\n                        aria-label={\"Close\"}\n                        color={\"inherit\"}\n                        className={classes.close}\n                        onClick={onClose}\n                    >\n                        <CloseIcon className={classes.icon} />\n                    </IconButton>,\n                ]}\n                {...other}\n            />\n        );\n    }\n}\n\nMessageSnackbar.propTypes = {\n    classes: PropTypes.object.isRequired,\n    className: PropTypes.string,\n    message: PropTypes.node,\n    onClose: PropTypes.func,\n    variant: PropTypes.oneOf(['success', 'warning', 'error', 'info', 'undo']).isRequired,\n};\n\nexport default withStyles(styles)(MessageSnackbar);","const context = 'USER';\n\nexport const userConstants = {\n    GET_PROFILE_REQUEST: `${context}_GET_PROFILE_REQUEST`,\n    GET_PROFILE_SUCCESS: `${context}_GET_PROFILE_SUCCESS`,\n    GET_PROFILE_FAILURE: `${context}_GET_PROFILE_FAILURE`,\n\n    EXPORT_REQUEST: `${context}_EXPORT_REQUEST`,\n    EXPORT_SUCCESS: `${context}_EXPORT_SUCCESS`,\n    EXPORT_FAILURE: `${context}_EXPORT_FAILURE`,\n\n    IMPORT_REQUEST: `${context}_IMPORT_REQUEST`,\n    IMPORT_SUCCESS: `${context}_IMPORT_SUCCESS`,\n    IMPORT_FAILURE: `${context}_IMPORT_FAILURE`\n}","export const alertConstants = {\n    SUCCESS: 'ALERT_SUCCESS',\n    ERROR: 'ALERT_ERROR',\n    INFO: 'ALERT_INFO',\n    CLEAR: 'ALERT_CLEAR',\n    UNDO: 'ALERT_UNDO'\n};","import { alertConstants } from '../constants';\n\nexport const alertActions = {\n    success,\n    error,\n    undo,\n    info,\n    clear\n};\n\nfunction success(message) {\n    return { type: alertConstants.SUCCESS, message };\n}\n\nfunction error(message) {\n    return { type: alertConstants.ERROR, message };\n}\n\nfunction info(message) {\n    return { type: alertConstants.INFO, message };\n}\n\nfunction undo(message, callbacks) {\n    return { type: alertConstants.UNDO, message, ...callbacks };\n}\n\nfunction clear() {\n    return { type: alertConstants.CLEAR };\n}\n","const isDevelopment = !process.env.NODE_ENV || process.env.NODE_ENV === 'development';\n\nexport const config = {\n    isDevelopment,\n    loggedItem: \"user\",\n    baseName: isDevelopment ? \"/\" : \"/portify\",\n    spotifyApi: {\n        url: \"https://api.spotify.com/v1\",\n        scope: \"user-read-private user-read-email playlist-read-private playlist-modify-public playlist-modify-private user-library-read user-library-modify playlist-read-collaborative\",\n        redirect_uri: isDevelopment ? \"http://localhost:3000/callback\" : \"https://ramosisw.github.io/portify\",\n        client_id: \"ba0034384cb24045a078ea5ceae26480\"\n    }\n};\n","import { createBrowserHistory } from 'history';\nimport { config } from '../config';\n\nexport const history = createBrowserHistory({\n    basename: config.baseName,\n});\n","import { config } from '../config';\n\nexport function authHeader() {\n    const user = JSON.parse(localStorage.getItem(config.loggedItem));\n\n    const contentType = {\n        'Content-Type': 'application/json'\n    };\n\n    if (user && user.access_token) {\n        return { 'Authorization': 'Bearer ' + user.access_token, ...contentType };\n    } else {\n        return { ...contentType };\n    }\n}\n","import { config } from '../config';\n\nexport function handleResponse(response) {\n    return response.text().then(text => {\n        const data = text && JSON.parse(text);\n        if (!response.ok) {\n            if (response.status === 401) {\n                // remove user from local storage to log user out\n                localStorage.removeItem(config.loggedItem);\n                window.location.reload(true);\n            }\n            const error = (data && data.message) || response.statusText;\n            return Promise.reject(error);\n        }\n        return data;\n    });\n}","import { userConstants } from '../constants';\n\nconst defaultState = {\n    display_name: \"User Name\"\n};\n\nexport const user = (state = defaultState, action) => {\n    switch (action.type) {\n        case userConstants.GET_PROFILE_SUCCESS:\n            return {\n                ...action.data\n            };\n        default: return state;\n    }\n}","import { combineReducers } from 'redux';\nimport { user } from './users.reducer';\nimport { alert } from './alert.reducer';\n\n\nconst rootReducer = combineReducers({\n    alert,\n    user\n});\n\nexport default rootReducer;","import withStyles from '@material-ui/core/styles/withStyles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport LockIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport Avatar from '@material-ui/core/Avatar';\nimport Paper from '@material-ui/core/Paper';\nimport { Redirect } from 'react-router-dom';\nimport React, { Component } from 'react'\nimport queryString from 'query-string';\nimport { config } from './config'\n\nconst style = theme => ({\n    layout: {\n        width: 'auto',\n        display: 'block', // Fix IE11 issue.\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(400 + theme.spacing(3) * 2)]: {\n            width: 400,\n            marginLeft: 'auto',\n            marginRight: 'auto',\n        },\n    },\n    paper: {\n        marginTop: theme.spacing(8),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        padding: `${theme.spacing(2)}px ${theme.spacing(3)}px ${theme.spacing(3)}px`,\n    },\n    avatar: {\n        margin: theme.spacing(),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE11 issue.\n        marginTop: theme.spacing(),\n    },\n    submit: {\n        marginTop: theme.spacing(3),\n    },\n});\nlet authWindow;\n\nclass Login extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            width: 0,\n            height: 0,\n            logged: false\n        };\n        this.updateWindowDimensions = this.updateWindowDimensions.bind(this);\n        this.onAuthorize = this.onAuthorize.bind(this);\n        this.onCallback = this.onCallback.bind(this);\n        localStorage.removeItem(config.loggedItem);\n    }\n\n    componentDidMount() {\n        this.updateWindowDimensions();\n        window.addEventListener('resize', this.updateWindowDimensions);\n        window.addEventListener(\"message\", this.onCallback);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.updateWindowDimensions);\n    }\n\n    updateWindowDimensions() {\n        this.setState({ width: window.innerWidth, height: window.innerHeight });\n    }\n\n    onCallback() {\n        if (authWindow)\n            authWindow.close();\n        if (localStorage.getItem(config.loggedItem))\n            this.setState({ logged: true });\n    }\n\n    onAuthorize() {\n        const width = 500, height = 780;\n        const left = (this.state.width / 2) - (width / 2);\n        const top = (this.state.height / 2) - (height / 2);\n        const set = {\n            client_id: config.spotifyApi.client_id,\n            redirect_uri: config.spotifyApi.redirect_uri,\n            scope: config.spotifyApi.scope,\n            response_type: 'token',\n            show_dialog: 'true'\n        };\n\n        authWindow = window.open(\n            \"https://accounts.spotify.com/authorize?\" + queryString.stringify(set),\n            \"Spotify\",\n            'menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=' + width + ', height=' + height + ', top=' + top + ', left=' + left\n        );\n    }\n\n    render() {\n        if (this.state.logged) {\n            return <Redirect to={'/'} />\n        }\n        const { classes } = this.props;\n        return (\n            <React.Fragment>\n                <CssBaseline />\n                <main className={classes.layout}>\n                    <Paper className={classes.paper}>\n                        <Avatar className={classes.avatar} color={\"primary\"}>\n                            <LockIcon />\n                        </Avatar>\n                        <Typography variant={\"h5\"}>We need your Authorization</Typography>\n                        <Button\n                            onClick={this.onAuthorize}\n                            fullWidth\n                            variant={\"contained\"}\n                            color={\"secondary\"}\n                            className={classes.submit}>\n                            Proced to Authorization\n                        </Button>\n                    </Paper>\n                </main>\n            </React.Fragment>\n        )\n    }\n}\n\nexport default withStyles(style)(Login);\n","import { alertConstants } from '../constants';\n\nexport function alert(state = {}, action) {\n  switch (action.type) {\n    case alertConstants.SUCCESS:\n      return {\n        type: 'success',\n        message: action.message\n      };\n    case alertConstants.ERROR:\n      return {\n        type: 'error',\n        message: action.message\n      };\n    case alertConstants.INFO:\n      return {\n        type: 'info',\n        message: action.message\n      };\n    case alertConstants.UNDO:\n      return {\n        ...action,\n        undo : true,\n        type: 'undo',\n        message: action.message,\n      }\n    case alertConstants.CLEAR:\n      return {};\n    default:\n      return state\n  }\n}","import { createStore, applyMiddleware } from 'redux';\nimport thunkMiddleware from 'redux-thunk';\nimport { createLogger } from 'redux-logger';\nimport rootReducer from '../reducers';\nimport { config } from '../config';\n\nconst loggerMiddleware = config.isDevelopment ? createLogger() : null;\n\nexport const store = createStore(\n    rootReducer,\n    config.isDevelopment ? applyMiddleware(thunkMiddleware, loggerMiddleware) : applyMiddleware(thunkMiddleware)\n);\n","import { config } from '../config';\nimport { authHeader, handleResponse } from '../helpers';\nimport queryString from 'query-string';\n\nconst processFetchOptions = (options) => {\n    const { offset, limit } = options;\n    return options = {\n        offset: offset || 0,\n        limit: limit || 50\n    };\n}\n\n/**\n * get user info\n */\nconst getMe = async () => {\n    const requestOptions = {\n        method: 'GET',\n        headers: {\n            ...authHeader()\n        }\n    };\n    const url = `${config.spotifyApi.url}/me`;\n    return await fetch(url, requestOptions).then(handleResponse);\n}\n\n/**\n * Get playlists of user\n * @param {SpotifyFetch} fetchOptions\n */\nconst getPlaylists = async (fetchOptions) => {\n    fetchOptions = processFetchOptions(fetchOptions);\n    const requestOptions = {\n        method: 'GET',\n        headers: {\n            ...authHeader()\n        }\n    };\n    var queryParams = queryString.stringify(fetchOptions);\n    const url = `${config.spotifyApi.url}/me/playlists?${queryParams}`;\n    return await fetch(url, requestOptions).then(handleResponse);\n}\n\n/**\n * \n * @param {string} playlist_id \n * @param {SpotifyFetch} fetchOptions \n */\nconst getPlaylistTracks = async (playlist_id, fetchOptions) => {\n    fetchOptions = processFetchOptions(fetchOptions);\n    const requestOptions = {\n        method: 'GET',\n        headers: {\n            ...authHeader()\n        }\n    };\n    var queryParams = queryString.stringify(fetchOptions);\n    const url = `${config.spotifyApi.url}/playlists/${playlist_id}/tracks?${queryParams}`;\n    return await fetch(url, requestOptions).then(handleResponse);\n}\n\nconst getTracks = async (fetchOptions) => {\n    fetchOptions = processFetchOptions(fetchOptions);\n    const requestOptions = {\n        method: 'GET',\n        headers: {\n            ...authHeader()\n        }\n    };\n    var queryParams = queryString.stringify(fetchOptions);\n    const url = `${config.spotifyApi.url}/me/tracks?${queryParams}`;\n    return await fetch(url, requestOptions).then(handleResponse);\n}\n\nexport const spotifyService = {\n    getMe,\n    getPlaylists,\n    getPlaylistTracks,\n    getTracks\n}","import { spotifyService } from '../services';\n\n/**\n * \n * @param {*} options \n */\nconst _getAllPlaylists = async (options = {}) => {\n    let { playlists, offset, limit } = options;\n    playlists = playlists || { items: [] };\n    await spotifyService.getPlaylists({ offset, limit }).then(async data => {\n        playlists = {\n            total: data.total,\n            items: [...playlists.items, ...data.items]\n        };\n        if (data.next) {\n            const aux = await _getAllPlaylists({\n                playlists,\n                offset: data.offset + data.limit,\n                limit: data.limit\n            });\n            playlists = {\n                items: [...playlists.items, ...aux.items]\n            }\n        }\n    }, error => {\n        throw (error);\n    });\n    return playlists;\n}\n\n/**\n * \n * @param {*} options \n */\nconst _getAllPlaylistTracks = async (options = {}) => {\n    let { tracks, playlist_id, offset, limit } = options;\n    tracks = tracks || { items: [] };\n    await spotifyService.getPlaylistTracks(playlist_id, { offset, limit }).then(async data => {\n        const filterTracks = data.items.filter(item => {\n            return !item.is_local && item.track !== null;\n        });\n        const playlistTracks = filterTracks.map(track => {\n            const { id, name, uri } = track.track;\n            return {\n                id,\n                name,\n                uri\n            };\n        });\n\n        tracks = {\n            items: [...tracks.items, ...playlistTracks]\n        };\n\n        if (data.next) {\n            const aux = await _getAllPlaylistTracks({\n                tracks,\n                playlist_id,\n                offset: data.offset + data.limit,\n                limit: data.limit\n            });\n\n            tracks = {\n                items: [...tracks.items, ...aux.items]\n            };\n        }\n    }, error => {\n        throw (error);\n    });\n    return tracks;\n};\n\n/**\n * \n */\nconst _getAllTracks = async (options = {}) => {\n    let { tracks, offset, limit } = options;\n    tracks = tracks || { items: [] };\n    await spotifyService.getTracks({ offset, limit }).then(async data => {\n        const filterTracks = data.items.filter(item => {\n            return !item.is_local && item.track !== null;\n        });\n\n        const userTracks = filterTracks.map(track => {\n            const { id, name, uri } = track.track;\n            return {\n                id,\n                name,\n                uri\n            };\n        });\n\n        tracks = {\n            items: [...tracks.items, ...userTracks]\n        };\n\n        if (data.next) {\n            const aux = await _getAllTracks({\n                tracks,\n                offset: data.offset + data.limit,\n                limit: data.limit\n            });\n            tracks = {\n                items: [...tracks.items, ...aux.items]\n            };\n        }\n    }, error => {\n        throw (error);\n    });\n    return tracks;\n};\n\nconst exportData = async () => {\n    return new Promise(async (resolve, reject) => {\n        let exportObject = {\n            version: 1,\n            user_id: \"\",\n            display_name: \"\",\n            follow_playlists: [],\n            playlists: [],\n            tracks: [],\n        };\n\n        await _getAllTracks().then(tracks => {\n            exportObject.tracks = tracks.items;\n        }, error => {\n            reject(error);\n        });\n\n        await spotifyService.getMe().then(data => {\n            exportObject.user_id = data.id;\n            exportObject.display_name = data.display_name;\n        }, error => {\n            reject(error);\n        });\n\n        await _getAllPlaylists().then(async playlists => {\n            const follow_playlists = playlists.items.filter(playlist => {\n                return playlist.owner.id !== exportObject.user_id;\n            }).map(playlist => {\n                const { id, name, uri } = playlist;\n                return {\n                    id,\n                    name,\n                    uri\n                };\n            });\n\n            const userPlaylists = playlists.items.filter(playlist => {\n                return playlist.owner.id === exportObject.user_id;\n            }).map(async playlist => {\n                const { collaborative, id, name, uri } = playlist;\n                let tracks = [];\n                await _getAllPlaylistTracks({ playlist_id: playlist.id }).then(playlistTracks => {\n                    tracks = playlistTracks.items;\n                }, error => {\n                    reject(error);\n                });\n\n                return {\n                    collaborative,\n                    id,\n                    name,\n                    public: playlist.public,\n                    tracks,\n                    uri\n                };\n            });\n\n            exportObject.follow_playlists = follow_playlists;\n            exportObject.playlists = await Promise.all(userPlaylists);\n        }, error => {\n            reject(error);\n        });\n        resolve(exportObject);\n    });\n};\n\n\nconst downloadJson = (fileName, jsonText) => {\n    const a = document.createElement('a');\n    a.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(jsonText));\n    a.setAttribute('download', fileName);\n    if (document.createEvent) {\n        const e = document.createEvent('MouseEvents');\n        e.initEvent('click', true, true);\n        a.dispatchEvent(e);\n    } else {\n        a.click();\n    }\n};\n\nexport const appService = {\n    downloadJson,\n    exportData,\n}","import { userConstants } from '../constants';\nimport { spotifyService, appService } from '../services';\nimport { alertActions } from './alert.actions';\n\nconst getMe = () => {\n    return dispatch => {\n        dispatch(request());\n        spotifyService.getMe().then(data => {\n            dispatch(success(data));\n        }, error => {\n            dispatch(failure(error.toString()));\n            dispatch(alertActions.error(error.toString()));\n        });\n    };\n\n    function request() { return { type: userConstants.GET_PROFILE_REQUEST } }\n    function success(data) { return { type: userConstants.GET_PROFILE_SUCCESS, data } }\n    function failure(error) { return { type: userConstants.GET_PROFILE_FAILURE, error } }\n}\n\nconst exportData = () => {\n    return dispatch => {\n        dispatch(request());\n        appService.exportData().then(data => {\n            dispatch(success(data));\n            appService.downloadJson(`${data.user_id}_v${data.version}.json`, JSON.stringify(data, null, 4));\n        }, error => {\n            dispatch(failure(error));\n        });\n    };\n\n    function request() { return { type: userConstants.EXPORT_REQUEST } }\n    function success(data) { return { type: userConstants.EXPORT_SUCCESS, data } }\n    function failure(error) { return { type: userConstants.EXPORT_FAILURE, error } }\n};\n\n\nexport const userActions = {\n    getMe,\n    exportData\n};","import Typography from '@material-ui/core/Typography';\nimport { withStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport MuiAppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Button from '@material-ui/core/Button';\nimport Link from '@material-ui/core/Link';\nimport { userActions } from '../actions';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { config } from '../config';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n  },\n  toolbarTitle: {\n    //flex: 1,\n    marginRight: 10\n  },\n});\n\nconst LoginLink = React.forwardRef((props, ref) => (\n  <RouterLink innerRef={ref} to={\"/login\"} {...props} />\n));\n\nclass AppBar extends React.Component {\n  state = {\n    userLoged: localStorage.getItem(config.loggedItem) ? true : false\n  }\n\n  componentDidMount() {\n    if (this.state.userLoged) {\n      this.props.dispatch(userActions.getMe());\n    }\n  }\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <div className={classes.root}>\n        <MuiAppBar position={\"static\"}>\n          <Container>\n            <Toolbar>\n              <Typography variant={\"h6\"} className={classes.title}>\n                Portify\n              </Typography>\n              <Link to=\"/about\">About</Link>\n              {this.state.userLoged &&\n                <Typography component={\"p\"}\n                  color={\"inherit\"}\n                  align={\"center\"}\n                  noWrap\n                  className={classes.toolbarTitle}\n                >\n                  {this.props.user.display_name}\n                </Typography>\n              }\n              {this.state.userLoged ?\n                <Link\n                  component={LoginLink}\n                  variant={\"body2\"}\n                  color={\"inherit\"}\n                >\n                  It's no me\n                </Link> :\n                <Button color={\"inherit\"} component={LoginLink} size={\"small\"}>Login</Button>\n              }\n            </Toolbar>\n          </Container>\n        </MuiAppBar>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { user } = state;\n  return {\n    user\n  };\n}\n\n\nAppBar.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(connect(mapStateToProps)(AppBar));\n","import CloudDownload from '@material-ui/icons/CloudDownload';\nimport CloudUpload from '@material-ui/icons/CloudUpload';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport Typography from '@material-ui/core/Typography';\nimport { withStyles } from '@material-ui/core/styles';\nimport { Container } from '@material-ui/core';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport AppBar from './components/AppBar';\nimport React, { Component } from 'react';\nimport queryString from 'query-string';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { config } from './config';\nimport { alertActions, userActions } from './actions'\n\nconst styles = theme => ({\n    appBarSpacer: {\n        marginTop: theme.spacing(2),\n    },\n    options: {\n        marginTop: theme.spacing(5),\n    },\n    leftIcon: {\n        marginRight: theme.spacing(1),\n    },\n    rightIcon: {\n        marginLeft: theme.spacing(1),\n    },\n});\n\nclass Main extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            userLoged: localStorage.getItem(config.loggedItem) ? true : false\n        };\n\n        const hashValues = queryString.parse(this.props.location.hash);\n\n        if (!localStorage.getItem(config.loggedItem) && hashValues.access_token) {\n            localStorage.setItem(config.loggedItem, JSON.stringify({\n                ...hashValues\n            }));\n            const target = window.self === window.top ? window.opener : window.parent;\n            target.postMessage(\"\");\n        }\n    }\n\n    onExport = () => {\n        this.props.dispatch(alertActions.info(\"Exporting data...\"));\n        this.props.dispatch(userActions.exportData());\n    }\n\n    onImport = () => {\n        this.props.dispatch(alertActions.info(\"import!\"));\n    }\n\n    render() {\n        const { classes } = this.props;\n        return (\n            <React.Fragment>\n                <CssBaseline />\n                <div>\n                    <AppBar />\n                    <main className={classes.content}>\n                        <div className={classes.appBarSpacer} />\n                        <Container>\n                            <Typography variant={\"h2\"} align={\"center\"}>Welcome to Portify.</Typography>\n                            <Typography variant={\"h5\"} component={\"p\"} align={\"center\"}>Export/Import your playlists from Spotify with json file.</Typography>\n                            {this.state.userLoged &&\n                                <Grid className={classes.options} container direction={\"column\"} alignItems={\"center\"}>\n                                    <Grid item>\n                                        <ButtonGroup\n                                            size={\"large\"}\n                                            variant={\"contained\"}\n                                            aria-label={\"Options\"}\n                                            color={\"secondary\"}\n                                        >\n                                            <Button onClick={this.onExport}>\n                                                Export\n                                                <CloudDownload className={classes.rightIcon} />\n                                            </Button>\n                                            <Button onClick={this.onImport}>\n                                                <CloudUpload className={classes.leftIcon} />\n                                                Import\n                                            </Button>\n                                        </ButtonGroup>\n                                    </Grid>\n                                </Grid>\n                            }\n                        </Container>\n                    </main>\n                </div>\n            </React.Fragment>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    const { users } = state;\n    return { users };\n}\n\nMain.propTypes = {\n    classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(connect(mapStateToProps)(Main));\n","import MuiThemeProvider from '@material-ui/core/styles/MuiThemeProvider';\nimport MessageSnackbar from './components/MessageSnackbar';\nimport { Router, Route, Switch } from 'react-router-dom';\nimport { createMuiTheme } from '@material-ui/core';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport { alertActions } from './actions';\nimport { connect } from 'react-redux';\nimport { history } from './helpers';\nimport Login from './Login'\nimport React from 'react';\nimport Main from './Main';\n\nconst theme = createMuiTheme({\n  palette: {\n    type: \"dark\",\n    primary: {\n      main: \"#000\",\n      contrastText: \"#fff\"\n    },\n    secondary: {\n      main: \"#2ebd59\",\n      contrastText: \"#fff\"\n    }\n  },\n  typography: {\n    useNextVariants: true,\n  },\n  root: {\n    display: 'flex',\n  },\n});\n\nclass App extends React.Component {\n\n  handleClose = (reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    this.props.dispatch(alertActions.clear());\n  };\n\n  render() {\n    const { alert } = this.props;\n    return (\n      <Router history={history}>\n        <MuiThemeProvider theme={theme}>\n          {alert.message &&\n            <Snackbar\n              anchorOrigin={{\n                vertical: 'bottom',\n                horizontal: 'left',\n              }}\n              open\n              onClose={alert.onClose || this.handleClose}\n              autoHideDuration={2000}\n            >\n              <MessageSnackbar\n                onClose={alert.onClose || this.handleClose}\n                variant={alert.type}\n                message={alert.message}\n                onUndo={alert.onUndo}\n              />\n            </Snackbar>\n          }\n          <Route path={\"/\"}>\n            <Switch>\n              <Route path={\"/login\"} component={Login} />\n              <Route path={\"/\"} component={Main} />\n            </Switch>\n          </Route>\n        </MuiThemeProvider>\n      </Router>\n    );\n  }\n};\n\nfunction mapStateToProps(state) {\n  const { alert } = state;\n  return {\n    alert\n  };\n}\n\nconst connectedApp = connect(mapStateToProps)(App);\n\nexport { connectedApp as App };\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport { App } from './App';\nimport { Provider } from 'react-redux';\nimport { store } from './helpers';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n    <Provider store={store}>\n        <HashRouter basename=\"/portify/\">\n            <App />\n        </HashRouter>\n    </Provider>\n    , document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}